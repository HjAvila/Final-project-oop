<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.image.ImageView?>

<AnchorPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.example.finaoop.controllers.DisposalRequestController"
            stylesheets="@../styles/style.css"
            style="-fx-background-color: linear-gradient(to bottom right, #e8f5e9, #ffffff);">

    <ScrollPane fitToWidth="true" fitToHeight="true">
        <VBox spacing="25">
            <padding>
                <Insets top="30" right="30" bottom="30" left="30"/>
            </padding>

            <VBox spacing="6">
                <Label text="Disposal Request Form" style="-fx-font-size: 22px; -fx-font-weight: bold;"/>
                <Label text="Fill the form and submit. Uploading a photo is optional."
                       style="-fx-text-fill: #555555; -fx-font-size: 13px;"/>
            </VBox>

            <GridPane hgap="20" vgap="20">
                <columnConstraints>
                    <ColumnConstraints percentWidth="35"/>
                    <ColumnConstraints percentWidth="65"/>
                </columnConstraints>

                <Label text="Location:" GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                <TextField fx:id="locationField" promptText="Enter site address"
                           GridPane.rowIndex="0" GridPane.columnIndex="1" styleClass="input"/>

                <Label text="Waste Type:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                <ComboBox fx:id="wasteTypeBox" GridPane.rowIndex="1" GridPane.columnIndex="1" styleClass="input"
                          promptText="Select waste type"/>

                <Label text="Description:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                <TextArea fx:id="descriptionArea" prefRowCount="6"
                          GridPane.rowIndex="2" GridPane.columnIndex="1"
                          promptText="Provide context and any additional instructions."
                          styleClass="input"/>

                <Label text="Photo Preview:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                <ImageView fx:id="photoPreview" fitHeight="150" fitWidth="200" preserveRatio="true"
                           GridPane.rowIndex="3" GridPane.columnIndex="1"
                           style="-fx-border-color: #dceadf; -fx-border-width: 1; -fx-border-radius: 8;"/>
            </GridPane>

            <HBox spacing="15" alignment="CENTER_LEFT">
                <Button text="Upload Photo" onAction="#choosePhoto" styleClass="secondary-btn"/>
                <Button text="Submit Request" onAction="#submitRequest" styleClass="primary-btn"/>
                <Label fx:id="statusLabel" style="-fx-text-fill: #2e7d32; -fx-font-weight: bold;"/>
            </HBox>

            <Label text="My Latest Requests" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-padding: 10 0 0 0;"/>
            <TableView fx:id="latestRequestsTable" prefHeight="300">
                <columns>
                    <TableColumn fx:id="locationCol" text="Location" prefWidth="200"/>
                    <TableColumn fx:id="typeCol" text="Waste Type" prefWidth="150"/>
                    <TableColumn fx:id="statusCol" text="Status" prefWidth="120"/>
                </columns>
            </TableView>
        </VBox>
    </ScrollPane>
</AnchorPane>